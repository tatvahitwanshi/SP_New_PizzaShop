@model DataAccessLayer.ViewModels.TablesOrderAppViewModel
@{
    Layout = "~/Views/Shared/_OrderAppLayout.cshtml";
    ViewData["Title"] = "Tables App";
    ViewBag.Active = "Tables";
}
<link rel="stylesheet" href="~/css/OrderApp/tablesapp.css" asp-append-version="true" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<div class="table-container">

    <!-----Table View----->
    <div class="row px-0 mb-2 align-items-center">
        <!-- Title -->
        <div class="col-12 col-md-6 mb-2 mb-md-0">
            <div class="fs-3 fw-bold special-color">Table View</div>
        </div>

        <!--  Section -->
        <div class="col-12 col-md-6">
            <div class="d-flex flex-wrap justify-content-md-end gap-3">
                <div class="d-flex gap-2 align-items-center">
                    <span class="color-selected"><i class="bi bi-circle"></i></span>
                    <span>Selected</span>
                </div>
                <div class="d-flex gap-2 align-items-center">
                    <span class="color-available"><i class="bi bi-circle-fill"></i></span>
                    <span>Available</span>
                </div>
                <div class="d-flex gap-2 align-items-center">
                    <span class="color-assigned"><i class="bi bi-circle-fill"></i></span>
                    <span>Assigned</span>
                </div>
                <div class="d-flex gap-2 align-items-center">
                    <span class="color-running"><i class="bi bi-circle-fill"></i></span>
                    <span>Running</span>
                </div>
            </div>
        </div>
    </div>

    <div class="" id="sectionListContainer">
        <partial name="_SectionListPartial" model="Model.sectionList" />
    </div>
</div>

<div id="GenerateTokenModalContainer">
    <!-- waiting token Modal -->
    @* <partial name="_GenerateTokenModal" /> *@
</div>

<!---------------------------------  off canvas -------------------------------------->
<div class="offcanvas offcanvas-end" tabindex="-1" id="assignTableSection" aria-labelledby="assignTableSectionLabel">
    
    <div class="offcanvas-body token-assign-offcanvas">
        <div class="mb-3">
            <div class="d-flex justify-content-between mb-3">
                <div class="offcanvas-title special-color fw-bold fs-5" id="assignTableSectionLabel">Waiting List</div>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <!---------- Waiting list table ----------------> 
            <div id="waitingTokenTableContainer">
                
            </div>

        </div>
   
        <!----------------------  Assign Table -------------------->
        <div id="assignTableContainer">
            
        </div>

    </div>
</div>


<!--------------------------------- Token Remove & Issue Order -------------------------------------->
<!-- Token Remove & Issue Order Modal -->
<div class="modal fade" id="orderRemoveTokenModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content p-3 pt-3 rounded-4 shadow">

            <!-- Modal Header -->
            <div class="d-flex justify-content-between align-items-center mb-3 border-bottom pb-2">
                <h4 class="modal-title fw-bold special-color" id="tableNameForModal">Assign Table</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <input type="hidden" id="tableIdForModal">
            <input type="hidden" id="sectionIdForModal">


            <!-- Modal Body Text -->
            <div class="text-center text-muted fs-6 mb-4">
                You can either generate an order or remove the token from this table.
            </div>

            <!-- Action Buttons -->
            <div class="d-flex justify-content-center gap-3">
                <button type="submit" class="btn fw-semibold px-4 save-btn" data-bs-dismiss="modal"
                    id="orderBtn" onclick="TableToOrderMenu()">
                    <i class="bi bi-cart-plus me-1"></i> Order
                </button>
                <button type="submit" class="btn fw-semibold px-4" data-bs-dismiss="modal" id="removeTokenBtn"
                    onclick="removeToken()" style="background-color: rgba(255, 0, 0, 0.774); color: white;">
                    <i class="bi bi-x-circle me-1"></i> Remove Token
                </button>
                <button type="button" class="btn cancel-btn fw-semibold px-4" data-bs-dismiss="modal">
                    Cancel
                </button>
            </div>

        </div>
    </div>
</div>


@section Scripts
{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"
    integrity="sha512-VEd+nq25CkR676O+pLBnDW09R7VQX9Mdiij052gVCp5yVH3jGtH70Ho/UUv4mJDsEdTvqRCFZg0NKGiojGnUCw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
    <script src="~/js/OrderApp/tablesapp.js" asp-append-version="true"></script>
    <partial name="_ValidationScriptsPartial" />
    
}
